# Camera calibration
相机校准。将会学习（distorations扭曲），内外部(intrinsic and extrinsic)参数等。

## Basics
现在很便宜的针孔式相机对图片引入很多扭曲。两种主要扭曲是经向(radial)扭曲和切向(tangential)扭曲。

对于经向扭曲，直线将会出现弯曲。当我们离开图片中心，效果更明显。例如:下面的图片，象棋边缘有两条被标记的红线。但是你能看到这个板不是直线，因为和这个红线不匹配。所有认为是直线的都凸出来。更过间<a href="https://en.wikipedia.org/wiki/Distortion_%28optics%29">扭曲</a>细节

<image src="image/01-01.jpg"/>

扭曲如下解决:

<image src="image/01-02.png"/>

相似的，另一个切向扭曲出现是因为拍照片的镜头(lense)并没有完全和呈相图片完全平行。有些地方图片比期待的更近一些。下面方法解决：

<image src="image/01-03.png"/>

简而言之，我们需要定义五个参数，作为扭曲的系数：

<image src="image/01-04.png"/>

另外，我们需要找到更多的信息，像内部和外部相机的参数。内部参数是特定的相机。包括，聚焦长度(fx,fy)，光中心点(cx,cy)。也别称为相机矩阵。只是依赖于相机本身，一旦计算好，可以存储起来给以后来使用。可以用3x3矩阵来表达:

<image src="image/01-06.png"/>

外部参数对应于旋转和平移向量，能将一个3D坐标转换成一个坐标系统。

对于立体图片应用，这些扭曲首先需要纠正。为了好到这些参数，需要做的是提供一些很好样式对的样本图片(如，象棋板)。我们能够找到一些特殊点(象棋板上矩形角)。我们知道它在真实空间的坐标和在图片中的坐标。有这些数据，背景采用一些算法来解决，来获得一些扭曲因子。这个是整个概要，至少10张测试，才能到达效果。

相机校准至少需要10个图片。OpenCV提供了这10个图片。为了便于理解，考虑只有一张象棋图片。相机校准重要的输入信息是一系列3D真实点和对应2D图片的点。从图片中很容易能得到2D图片的点。(图片点的位置是黑色之间交汇的位置)那么对于3D实体空间点？这些图片从一个静态相机和象棋板被放在不同位置和方向获得。所以需要(X,Y,Z)值。
但是为了简单，我们认为象棋板是固定在XY平面(Z=0)并且相机也进行相应的移动。这能够让我们找到XY值。现在我们可以简单传(0,0),(1,0),(2,0)。。。表示点的位置。这个情况，我们能够获得不同缩放尺寸象棋板结果。
但是如果我们知道尺寸(比如30mm)，但是我们传递了(0,0),(30,0)，(60,0)，得到值是以mm。（这个情况下，我们不知道方块尺寸，因为我们没有拍照片，所以传递一些列方框值）

 * 3D点被称为object points
 * 2D图片点被称为image points

## undistortion 不变形
我们已经完成我们想做的了。现在拍一张不变行图片。OpenCV提供两种方法。


## Re-projection Error
反投影误差能对找到参数进行一个很好的评估。越接近0越好。